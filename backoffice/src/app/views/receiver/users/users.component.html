<div class="p-4 border rounded shadow-sm bg-white panel-usuarios d-flex flex-column">
  <h4 class="mb-3">Administración de Usuarios</h4>

  <!-- Toolbar -->
  <div class="d-flex align-items-center gap-2 mb-3 toolbar">
    <button
      type="button"
      class="btn btn-success d-flex align-items-center"
      aria-label="Agregar usuarios seleccionados a un grupo"
      title="Agregar usuarios seleccionados a un grupo">
      <i class="fa-solid fa-list-ul me-1"></i>
    </button>

    <!-- Buscador -->
    <div class="input-group ms-2 toolbar-search">
      <input type="text" class="form-control" placeholder="Buscar..." aria-label="Buscar">
      <button class="btn btn-outline-secondary" type="button" aria-label="Buscar">
        <i class="fas fa-search"></i>
      </button>
    </div>
  </div>

  <!-- Tabla (scroll solo aquí) -->
  <div class="table-wrapper flex-grow-1 overflow-auto">
    <table class="table custom-table w-100 m-0 align-middle">
      <tbody>
        @for (user of users; track user.id) {
          <tr class="custom-row" [class.selected-row]="user.select">
            <!-- checkbox -->
            <td class="check-cell">
              <input
                type="checkbox"
                class="form-check-input"
                [checked]="user.select"
                (change)="onToggleSelect(user)" />
            </td>

            <!-- ojo -->
            <td class="icon-cell">
              <a
                role="button"
                class="eye-link text-decoration-none"
                title="Ver Detalles"
                aria-label="Ver Detalles"
                (click)="inspectUser(user)">
                <i class="fa-regular fa-eye"></i>
              </a>
            </td>

            <!-- email -->
            <td class="custom-cell">
              @if (user.sin_grupo) {
                <span class="user-email user--sin-grupo">{{ user.email }}</span>
              } @else {
                <span class="user-email">{{ user.email }}</span>
              }
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
